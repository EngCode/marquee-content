{"mappings":"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","sources":["src/index.js","src/utils/breakpoints.js","src/utils/cloning.js","src/utils/skewed.js","src/utils/animation.js","src/utils/clearTimeline.js"],"sourcesContent":["import breakpoints from './utils/breakpoints';\nimport cloning from './utils/cloning';\nimport skewed from './utils/skewed';\nimport animation from './utils/animation';\nimport clearTimeline from './utils/clearTimeline';\n\nexport default class MarqueeContent extends HTMLElement {\n  constructor() {\n    super();\n\n    this.gsap = MarqueeContent.gsap || window.gsap;\n    this.MM = this.gsap.matchMedia();\n    this.timeline = null;\n    this.update = this.update.bind(this);\n    this.resizeObserver = new ResizeObserver(this.debounce(this.update.bind(this)));\n    this.resizeObserver.observe(this);\n  }\n\n  static registerGSAP(gsap) {\n    MarqueeContent.gsap = gsap;\n  }\n\n  debounce = () => {\n    let timer;\n\n    return () => {\n      cancelAnimationFrame(timer);\n      timer = requestAnimationFrame(this.update);\n    };\n  };\n\n  update() {\n    cancelAnimationFrame(this.af);\n\n    if (this.firstElementChild) {\n      this.af = requestAnimationFrame(() => {\n        cloning.call(this);\n        animation.call(this);\n      });\n    }\n  }\n\n  init() {\n    breakpoints.call(this);\n    skewed.call(this);\n    cloning.call(this);\n    animation.call(this);\n  }\n\n  destroy() {\n    cancelAnimationFrame(this.af);\n\n    clearTimeline.call(this);\n\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n  }\n\n  connectedCallback() {\n    this.init();\n  }\n\n  disconnectedCallback() {\n    this.destroy();\n  }\n}\n\nif (!customElements.get('marquee-content')) {\n  customElements.define('marquee-content', MarqueeContent);\n}\n","function breakpoints() {\n  this.breakpoint = '';\n\n  if (this.dataset.mcMax) {\n    this.breakpoint = `(max-width: ${this.dataset.mcMax - 0.02}px)`;\n  } else if (this.dataset.mcMin) {\n    this.breakpoint = `(min-width: ${this.dataset.mcMin}px)`;\n  }\n};\n\nexport default breakpoints;\n","function cloning() {\n  const removingClones = () => {\n    while (this.childElementCount > 1) {\n      this.removeChild(this.lastChild);\n    }\n  };\n\n  removingClones();\n\n  this.MM.add(this.breakpoint, () => {\n    const requiredQuantity = Math.ceil(this.scrollWidth / this.firstElementChild.clientWidth + 2);\n\n    if (this.childElementCount < requiredQuantity) {\n      const clones = Array.from({ length: requiredQuantity - 1 }, () => this.firstElementChild.cloneNode(true));\n      this.append(...clones);\n    }\n\n    return removingClones;\n  });\n}\n\nexport default cloning;\n","function skewed() {\n  if (!this.dataset.mcSkew) return;\n\n  const abs = Math.abs(parseInt(this.dataset.mcSkew, 10));\n  const { style } = this;\n\n  this.MM.add(this.breakpoint, () => {\n    style.transformOrigin = 'center center';\n    style.transform = `skew(0deg, ${this.dataset.mcSkew}deg)`;\n    style.minHeight = `calc(${abs * 1.25}vh + ${abs * 1.25}vw)`;\n\n    return () => {\n      style.cssText = 'transform-origin: unset; transform: unset; min-height: unset;';\n    };\n  });\n}\n\nexport default skewed;\n","import clearTimeline from './clearTimeline';\n\nfunction animation() {\n  if (this.timeline) {\n    clearTimeline.call(this);\n  }\n\n  this.MM.add(this.breakpoint, () => {\n    this.timeline = this.gsap.to(this.children, {\n      duration: this.dataset.mcDuration || 20,\n      x: '-100%',\n      repeat: -1,\n      ease: 'none',\n      scrollTrigger: {\n        trigger: this,\n        start: '-=50% bottom',\n        end: 'bottom top',\n        toggleActions: 'resume pause resume pause',\n        onUpdate: (self) => {\n          if (this.dataset.mcDirection === 'ltr') {\n            this.timeline.timeScale(-1);\n          } else if (this.dataset.mcDirection === 'auto') {\n            this.timeline.timeScale(self.direction);\n          }\n        },\n      },\n    });\n\n    this.timeline.totalProgress(0.5);\n\n    return () => {\n      if (this.timeline) {\n        clearTimeline.call(this);\n      }\n    };\n  });\n}\n\nexport default animation;\n","function clearTimeline() {\n  if (this.timeline) {\n    this.timeline.kill();\n    this.timeline = null;\n  }\n\n  this.gsap.set(this.children, { clearProps: true });\n}\n\nexport default clearTimeline;\n"],"names":[],"version":3,"file":"index.module.js.map"}