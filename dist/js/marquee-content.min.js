(()=>{"use strict";class t extends HTMLElement{constructor(){super(),this.mm=gsap.matchMedia(),this.tl=gsap.timeline(),this.speed=this.dataset.mcSpeed||20,this.clone=this.dataset.mcClone,this.skew=this.dataset.mcSkew,this.abs=this.skew<0?-1*this.skew:this.skew,this.max=this.dataset.mcMax,this.min=this.dataset.mcMin,this.dir=this.dataset.mcDirection,this.breakpoints(),this.cloning(),this.skewed(),this.marquee(),this.reverse()}breakpoints(){this.max||this.min?(this.max&&(this.breakpoint=`(max-width: ${this.max-.02}px)`),this.min&&(this.breakpoint=`(min-width: ${this.min}px)`)):this.breakpoint="(min-width: 100vw)"}cloning(){this.clone&&this.mm.add(this.breakpoint,(()=>{for(let t=0;t<this.clone;t++){let t=this.firstElementChild,e=t.cloneNode(!0);t.after(e)}return()=>{for(;this.children.length>1;)this.removeChild(this.lastChild)}}))}skewed(){this.skew&&this.mm.add(this.breakpoint,(()=>(this.style.minHeight=`calc(${1.25*this.abs}vh + ${1.25*this.abs}vw)`,this.style.transformOrigin="center center",this.style.transform=`skew(0deg, ${this.skew}deg)`,()=>{this.style.removeProperty("min-height"),this.style.removeProperty("transform-origin"),this.style.removeProperty("transform")})))}marquee(){this.mm.add(this.breakpoint,(()=>{gsap.config({nullTargetWarn:!1}),this.tl.paused(!0),gsap.set(this.children,{"will-change":"transform"}),this.tl.to(this.children,{duration:this.speed,x:"-100%",ease:"none",repeat:-1}).timeScale("ltr"===this.dir?-1:1).totalProgress(.5),ScrollTrigger.create({trigger:this,start:"top bottom",end:"bottom top",onEnter:()=>this.tl.resume(),onLeave:()=>this.tl.pause(),onEnterBack:()=>this.tl.resume(),onLeaveBack:()=>this.tl.pause()})}))}reverse(){"auto"===this.dir&&this.mm.add(this.breakpoint,(()=>{let t=0,e=1;window.addEventListener("scroll",(()=>{let s=window.pageYOffset>t?1:-1;s!==e&&(gsap.to(this.tl,{timeScale:s,overwrite:!0}),e=s),t=window.pageYOffset}))}))}}customElements.get("marquee-content")||customElements.define("marquee-content",t),new t})();